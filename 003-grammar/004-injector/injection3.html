<!DOCTYPE html>
<html ng-app="a4_5">

<head>
  <title>行内式注入</title>
  <script src="https://cdn.staticfile.org/angular.js/1.4.6/angular.min.js" type="text/javascript"></script>
  <style type="text/css">
    body {
      font-size: 12px;
    }

    .show {
      margin: 10px 0px;
    }

  </style>
</head>

<body>
  <p>
    无论是推断式，还是标记式注入声明，代码的编写都显得冗余，而且还反复使用了临时变量。为了避免这些不足，Angular允许开发人员使用行内注入声明的方式来注入服务。所谓的行内注入指的是在构建一个Angular对象（如控制器对象）时，允许开发人员将一个字符型数组作为对象的参数，而不仅仅是一个函数，在这个数组中，除最后一个必须是函数体外，其余都代表注入对象中的服务名，而它们的名称和顺序与最后一个函数的参数是一一对应的。
  </p>
  <div ng-controller="c4_5">
    <div class="show">{{text}}</div>
    <input id="btnSum" type="button" value="求和" ng-click="onlick(5,10)" />
  </div>
  <script type="text/javascript">
    angular
      .module('a4_5', [])
      .factory("$sum", function () {
        return {
          add: function (m, n) {
            return m + n;
          },
        };
      })
      .controller('c4_5', ['$scope', '$sum',
        function ($scope, $sum) {
          $scope.onlick = function (m, n) {
            $scope.text = m + "+" + n + "=" + $sum.add(m, n);
          };
        }
      ]);

  </script>
</body>

</html>
